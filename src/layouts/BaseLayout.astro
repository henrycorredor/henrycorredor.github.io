---
import "@/styles/global.css"

import BaseHead from "@/components/BaseHead.astro"
import Footer from "@/components/Footer.astro"
import Navigation from "@/components/Navigation.astro"
---

<html lang="en" class="h-full">
  <BaseHead>
    <slot name="head" />
  </BaseHead>
  <body class="bg-bg dark:bg-dark-bg h-full">
    <div class="flex h-full flex-col items-stretch md:flex-row">
      <div
        id="p5-container"
        class="fixed top-0 right-0 left-0 h-48 w-full md:h-auto md:relative md:flex-1/2 z-0"
        transition:persist
      >
      </div>
      <div
        id="content-container"
        class="pt-48 pd:mt-0 flex-1/2 overflow-y-auto md:border-l border-gray-300 relative z-10"
      >
        <Navigation />
        <div class="mx-auto max-w-screen-sm font-sans bg-bg dark:bg-dark-bg">
          <main class="min-h-[80vh]">
            <slot />
          </main>
          <!--<Footer />-->
        </div>
      </div>
    </div>
  </body>
</html>

<script>
  import p5 from "p5"
  import homeSketch from "@/sketches/home"

  const sketchContainer = document.getElementById(
    "p5-container",
  ) as HTMLDivElement
  if (sketchContainer) {
    new p5(homeSketch(sketchContainer), sketchContainer)
  }
</script>
